name: Fabric
images:
  - !!var images.java

install:
  script: !!file install.sh
  container: 'eclipse-temurin:25-jdk'

config:
  cmd: '{{_STARTUP_COMMAND}}'
  startup: !!var config.minecraft-java.startup
  files: !!var config.minecraft-java.files

variables:
  - env: _STARTUP_COMMAND
    name: !!in variables.startupCommand.name
    description: !!in variables.startupCommand.description
    value: java -Xms128M -XX:MaxRAMPercentage=80 -XX:+UseG1GC -XX:G1HeapRegionSize=4M -XX:+UnlockExperimentalVMOptions -XX:+ParallelRefProcEnabled -XX:+AlwaysPreTouch -XX:MaxInlineLevel=15 -jar fabric*.jar
    rules: required|string|max:4000
  - env: _INSTALL_MINECRAFT_VERSION
    name: !!in variables.fabricVersion.name
    description: !!in variables.fabricVersion.description
    value: latest
    rules: required|string|max:100
